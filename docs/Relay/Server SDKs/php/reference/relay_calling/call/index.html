<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-php/reference/relay_calling/call">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Relay.Calling.Call | SignalWire Community</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://signalwire-community.github.io/docs/php/reference/relay_calling/call/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Relay.Calling.Call | SignalWire Community"><meta data-rh="true" name="description" content="All calls in SignalWire have a common generic interface, Call. A Call is a connection between SignalWire and another device."><meta data-rh="true" property="og:description" content="All calls in SignalWire have a common generic interface, Call. A Call is a connection between SignalWire and another device."><link data-rh="true" rel="icon" href="/img/logo_black.png"><link data-rh="true" rel="canonical" href="https://signalwire-community.github.io/docs/php/reference/relay_calling/call/"><link data-rh="true" rel="alternate" href="https://signalwire-community.github.io/docs/php/reference/relay_calling/call/" hreflang="en"><link data-rh="true" rel="alternate" href="https://signalwire-community.github.io/docs/php/reference/relay_calling/call/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.574391d7.css">
<link rel="preload" href="/assets/js/runtime~main.0ec0ed99.js" as="script">
<link rel="preload" href="/assets/js/main.9160aba8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_black.png" alt="SignalWire Community" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_white.png" alt="SignalWire Community" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SignalWire Community</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Libraries</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/signalwire-community" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="menu-html-category-header">PHP Library</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">ᐸ Go back to all docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div style="margin-bottom: 40px;"></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php">Relay SDK for PHP</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling">Relay.Calling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Relay.Calling&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/answer_result">AnswerResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call">Call</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/connect_action">ConnectAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/connect_result">ConnectResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action">DetectAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result">DetectResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/dial_result">DialResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_action">FaxAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_result">FaxResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/hangup_result">HangupResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action">PlayAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_pause_result">PlayPauseResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_result">PlayResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_resume_result">PlayResumeResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_volume_result">PlayVolumeResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action">PromptAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_result">PromptResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_volume_result">PromptVolumeResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/record_action">RecordAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/record_result">RecordResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/send_digits_action">SendDigitsAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/send_digits_result">SendDigitsResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/stop_result">StopResult</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/tap_action">TapAction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/tap_result">TapResult</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_client">Relay.Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_consumer">Relay.Consumer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_event">Relay.Event</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_messaging">Relay.Messaging</a><button aria-label="Toggle the collapsible sidebar category &#x27;Relay.Messaging&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_task">Relay.Task</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/examples">Examples</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling"><span itemprop="name">Relay.Calling</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Call</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Relay.Calling.Call</h1><p>All calls in SignalWire have a common generic interface, <code>Call</code>. A <code>Call</code> is a connection between SignalWire and another device.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a class="hash-link" href="#properties" title="Direct link to heading">​</a></h2><table><thead><tr><th align="right"></th><th></th><th></th></tr></thead><tbody><tr><td align="right"><code>id</code></td><td><span class="method-prop-type">string</span></td><td>The unique identifier of the call.</td></tr><tr><td align="right"><code>type</code></td><td><span class="method-prop-type">string</span></td><td>The type of call. Only <code>phone</code> is currently supported.</td></tr><tr><td align="right"><code>from</code></td><td><span class="method-prop-type">string</span></td><td>The phone number that the call is coming from.</td></tr><tr><td align="right"><code>to</code></td><td><span class="method-prop-type">string</span></td><td>The phone number you are attempting to call.</td></tr><tr><td align="right"><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td>The seconds the call rings before being transferred to voicemail.</td></tr><tr><td align="right"><code>state</code></td><td><span class="method-prop-type">string</span></td><td>The current state of the call. See <a href="#state-events"><code>Relay.Calling.Call</code> State Events</a> for all the possible call states.</td></tr><tr><td align="right"><code>prevState</code></td><td><span class="method-prop-type">string</span></td><td>The previous state of the call.</td></tr><tr><td align="right"><code>context</code></td><td><span class="method-prop-type">string</span></td><td>The context the call belongs to.</td></tr><tr><td align="right"><code>peer</code></td><td><span class="method-prop-type"><a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call"><code>Relay.Calling.Call</code></a></span></td><td>The call your original call is connected to.</td></tr><tr><td align="right"><code>active</code></td><td><span class="method-prop-type">boolean</span></td><td>Whether the call is active.</td></tr><tr><td align="right"><code>ended</code></td><td><span class="method-prop-type">boolean</span></td><td>Whether the call has ended.</td></tr><tr><td align="right"><code>answered</code></td><td><span class="method-prop-type">boolean</span></td><td>Whether the call has been answered.</td></tr><tr><td align="right"><code>failed</code></td><td><span class="method-prop-type">boolean</span></td><td>Whether the call has failed.</td></tr><tr><td align="right"><code>busy</code></td><td><span class="method-prop-type">boolean</span></td><td>Whether the call was busy.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a class="hash-link" href="#methods" title="Direct link to heading">​</a></h2><div class="method-definitions"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="amd">amd<a class="hash-link" href="#amd" title="Direct link to heading">​</a></h3><p>Alias for <a href="#detectansweringmachine"><code>detectAnsweringMachine</code></a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="amdasync">amdAsync<a class="hash-link" href="#amdasync" title="Direct link to heading">​</a></h3><p>Alias for <a href="#detectansweringmachineasync"><code>detectAnsweringMachineAsync</code></a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="answer">answer<a class="hash-link" href="#answer" title="Direct link to heading">​</a></h3><p>Answer an inbound call.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/answer_result"><code>Relay.Calling.AnswerResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Answer an inbound call and check if it was successful.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">answer</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$answerResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connect">connect<a class="hash-link" href="#connect" title="Direct link to heading">​</a></h3><p>Attempt to connect an existing call to a new outbound call and waits until one of the remote party picks the call or the connect fails.<br>This method involves complex nested parameters.
You can connect to multiple devices in series, parallel, or any combination of both with creative use of the parameters. Series implies one device at a time, while parallel implies multiple devices at the same time.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>devices</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>One or more arrays with the structure below.<br><em>Nested depends on whether to dial in serial or parallel.</em></td></tr><tr><td><code>ringback</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Ringback audio to play to call leg. You can play <em>audio</em>, <em>tts</em>, <em>silence</em> or <em>ringtone</em>. See <a href="#play"><code>play</code> media parameter</a> for details.</td></tr></tbody></table><ul><li>Structure of a device:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>The device type. Only <code>phone</code> is currently supported.</td></tr><tr><td><code>from</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>The party the call is coming from. <br><em>If not provided, the SDK will use the <code>from</code> of the originator call.<br>Must be a SignalWire number or SIP endpoint that you own.</em></td></tr><tr><td><code>to</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>The party you are attempting to connect with.</td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>The time, in seconds, the call will ring before going to voicemail.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/connect_result"><code>Relay.Calling.ConnectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Try connecting by calling &#x27;+18991114444&#x27; and &#x27;+18991114445&#x27; in series.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114444&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">30</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114445&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">20</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">connect</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">...</span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$remoteCall</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getCall</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Combine serial and parallel calling. Call &#x27;+18991114443&#x27; first and - if it doesn&#x27;t answer - try calling in parallel &#x27;+18991114444&#x27; and &#x27;+18991114445&#x27;. If none of the devices answer, continue the same process with &#x27;+18991114446&#x27; and &#x27;+18991114447&#x27;.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114443&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">30</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114444&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">30</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114445&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">20</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114446&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">30</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114447&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">20</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">connect</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">...</span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$remoteCall</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getCall</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Try connecting by calling &#x27;+18991114444&#x27; and &#x27;+18991114445&#x27; in series playing the US ringtone.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;devices&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114444&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114445&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;ringback&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;ringtone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;name&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;us&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">connect</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">...</span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$remoteCall</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$connectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getCall</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connectasync">connectAsync<a class="hash-link" href="#connectasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#connect"><code>connect</code></a>. It does not wait the connect to completes or fails but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/connect_action"><code>Relay.Calling.ConnectAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#connect"><code>connect</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/connect_action"><code>Relay.Calling.ConnectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Trying to connect a call by calling in series &#x27;+18991114444&#x27; and &#x27;+18991114445&#x27;.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114444&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">30</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;phone&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;to&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;+18991114445&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;timeout&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">20</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">connect</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">...</span><span class="token php language-php variable" style="color:#36acaa">$devices</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// .. do other important things while Relay try to connect your call..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// then check whether the action has completed</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$connectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detect">detect<a class="hash-link" href="#detect" title="Direct link to heading">​</a></h3><p>Start a detector on the call and waits until it has finished or failed.</p><p>The <code>detect</code> method is a generic method for all types of detecting, see <a href="#detectansweringmachine"><code>detectAnsweringMachine</code></a>, <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectdigit"><code>detectDigit</code></a> or <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectfax"><code>detectFax</code></a> for more specific usage.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr></tbody></table><ul><li>To detect an answering machine:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>machine</code></td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>wait_for_beep</code></td><td><span class="method-prop-type">boolean</span></td><td><span class="optional-arg">optional</span></td><td>Whether to wait until the AM is ready for voicemail delivery.<br><em>Defaults to false.</em></td></tr><tr><td><code>initial_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for initial voice before giving up.<br><em>Defaults to 4.5.</em></td></tr><tr><td><code>end_silence_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for voice to finish.<br><em>Defaults to 1.0.</em></td></tr><tr><td><code>machine_voice_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many seconds of voice to decide is a <em>machine</em>.<br><em>Defaults to 1.25.</em></td></tr><tr><td><code>machine_words_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many words to count to decide is a <em>machine</em>.<br><em>Defaults to 6.</em></td></tr></tbody></table><ul><li>To detect digits:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>digit</code></td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>digits</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>The digits to detect.<br><em>Defaults to &quot;0123456789#<!-- -->*<!-- -->&quot;.</em></td></tr></tbody></table><ul><li>To detect a fax:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>fax</code></td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>tone</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>The fax tone to detect: <code>CED</code> or <code>CNG</code>.<br><em>Defaults to &quot;CED&quot;.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect a machine with custom parameters and timeout.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;machine&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;timeout&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">45</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;initial_timeout&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">3.0</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detect</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$type</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getType</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// machine</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$result</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// MACHINE / HUMAN / UNKNOWN</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect a Fax setting timeout only.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;fax&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;timeout&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">45</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detect</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectasync">detectAsync<a class="hash-link" href="#detectasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a>. It does not wait the detector ends but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect digits using default parameters. Stop the action immediately.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">on</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;detect.update&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Handle a detector event here..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php function" style="color:#d73a49">print_r</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digit&#x27;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Do other things while detector runs and then stop it.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">!</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectansweringmachine">detectAnsweringMachine<a class="hash-link" href="#detectansweringmachine" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a>. The Promise will be resolved with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object as soon as the detector decided <em>who</em> answered the call: <code>MACHINE</code>, <code>HUMAN</code> or <code>UNKNOWN</code>.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array with the following properties:</td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>wait_for_beep</code></td><td><span class="method-prop-type">boolean</span></td><td><span class="optional-arg">optional</span></td><td>Whether to wait until the AM is ready for voicemail delivery.<br><em>Defaults to false.</em></td></tr><tr><td><code>initial_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for initial voice before giving up.<br><em>Defaults to 4.5.</em></td></tr><tr><td><code>end_silence_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for voice to finish.<br><em>Defaults to 1.0.</em></td></tr><tr><td><code>machine_voice_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many seconds of voice to decide is a <em>machine</em>.<br><em>Defaults to 1.25.</em></td></tr><tr><td><code>machine_words_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many words to count to decide is a <em>machine</em>.<br><em>Defaults to 6.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Perform an AMD and wait until the machine is ready.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;wait_for_beep&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:#36acaa">true</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectAnsweringMachine</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$result</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// MACHINE || HUMAN || UNKNOWN</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectansweringmachineasync">detectAnsweringMachineAsync<a class="hash-link" href="#detectansweringmachineasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="#detectansweringmachine"><code>detectAnsweringMachine</code></a>. It does not wait the detector ends but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="#detectansweringmachine"><code>detectAnsweringMachine</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Perform an asynchronous AMD on the call. Then stop the action if not completed yet.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">on</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;detect.update&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Handle a detector event here..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php function" style="color:#d73a49">print_r</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectAnsweringMachineAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Do other things while detector runs and then stop it.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">!</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectdigit">detectDigit<a class="hash-link" href="#detectdigit" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a>. This simplifies detecting <em>digits</em> on a call.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array with the following properties:</td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>digits</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>The digits to detect.<br><em>Defaults to &quot;0123456789#<!-- -->*<!-- -->&quot;.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect digits and then write a log with the result.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectDigit</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php keyword" style="color:#00009f">echo</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;Digits detected: &quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">.</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectdigitasync">detectDigitAsync<a class="hash-link" href="#detectdigitasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectdigit"><code>detectDigit</code></a>. It does not wait the detector ends but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectdigit"><code>detectDigit</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect only &#x27;1-3&#x27; digits asynchronously.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">on</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;detect.update&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Handle a detector event here..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php function" style="color:#d73a49">print_r</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectDigitAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Do other things while detector runs and then stop it.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">!</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectfax">detectFax<a class="hash-link" href="#detectfax" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a>. This simplifies detecting a <em>fax</em>.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array with the following properties:</td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>tone</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>The fax tone to detect: <code>CED</code> or <code>CNG</code>.<br><em>Defaults to &quot;CED&quot;.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect fax on the current call.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectFax</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// A fax has been detected!</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectfaxasync">detectFaxAsync<a class="hash-link" href="#detectfaxasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectfax"><code>detectFax</code></a>. It does not wait the detector ends but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectfax"><code>detectFax</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect fax on the current call. Stop the action immediately.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">on</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;detect.update&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Handle a detector event here..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php function" style="color:#d73a49">print_r</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectFaxAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Do other things while detector runs and then stop it.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php operator" style="color:#393A34">!</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecthuman">detectHuman<a class="hash-link" href="#detecthuman" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a>. This simplifies detecting a <em>human</em> on the call and is the inverse of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectmachine"><code>detectMachine</code></a>.</p><p><strong>Deprecated since</strong>: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2-important.svg" class="img_ev3q"> Use <a href="#detectansweringmachine"><code>detectAnsweringMachine</code></a> instead.</p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array with the following properties:</td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>wait_for_beep</code></td><td><span class="method-prop-type">boolean</span></td><td><span class="optional-arg">optional</span></td><td>Whether to wait until the AM is ready for voicemail delivery.<br><em>Defaults to false.</em></td></tr><tr><td><code>initial_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for initial voice before giving up.<br><em>Defaults to 4.5.</em></td></tr><tr><td><code>end_silence_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for voice to finish.<br><em>Defaults to 1.0.</em></td></tr><tr><td><code>machine_voice_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many seconds of voice to decide is a <em>machine</em>.<br><em>Defaults to 1.25.</em></td></tr><tr><td><code>machine_words_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many words to count to decide is a <em>machine</em>.<br><em>Defaults to 6.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect a human on the current call.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectHuman</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// A human has been detected!</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecthumanasync">detectHumanAsync<a class="hash-link" href="#detecthumanasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detecthuman"><code>detectHuman</code></a>. It does not wait the detector ends but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> you can interact with.</p><p><strong>Deprecated since</strong>: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2-important.svg" class="img_ev3q"> Use <a href="#detectansweringmachineasync"><code>detectAnsweringMachineAsync</code></a> instead.</p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detecthuman"><code>detectHuman</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect a human on the current call. Stop the action immediately.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectHumanAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectmachine">detectMachine<a class="hash-link" href="#detectmachine" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detect"><code>detect</code></a>. This simplifies detecting a <em>machine</em> on the call and is the inverse of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detecthuman"><code>detectHuman</code></a>.</p><p><strong>Deprecated since</strong>: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2-important.svg" class="img_ev3q"> Use <a href="#detectansweringmachine"><code>detectAnsweringMachine</code></a> instead.</p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array with the following properties:</td></tr><tr><td><code>timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to run the detector.<br><em>Defaults to 30.0.</em></td></tr><tr><td><code>wait_for_beep</code></td><td><span class="method-prop-type">boolean</span></td><td><span class="optional-arg">optional</span></td><td>Whether to wait until the AM is ready for voicemail delivery.<br><em>Defaults to false.</em></td></tr><tr><td><code>initial_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for initial voice before giving up.<br><em>Defaults to 4.5.</em></td></tr><tr><td><code>end_silence_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Number of seconds to wait for voice to finish.<br><em>Defaults to 1.0.</em></td></tr><tr><td><code>machine_voice_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many seconds of voice to decide is a <em>machine</em>.<br><em>Defaults to 1.25.</em></td></tr><tr><td><code>machine_words_threshold</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How many words to count to decide is a <em>machine</em>.<br><em>Defaults to 6.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_result"><code>Relay.Calling.DetectResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect a machine on the current call.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectMachine</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// A machine has been detected!</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detectmachineasync">detectMachineAsync<a class="hash-link" href="#detectmachineasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectmachine"><code>detectMachine</code></a>. It does not wait the detector ends but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> you can interact with.</p><p><strong>Deprecated since</strong>: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2-important.svg" class="img_ev3q"> Use <a href="#detectansweringmachineasync"><code>detectAnsweringMachineAsync</code></a> instead.</p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#detectmachine"><code>detectMachine</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/detect_action"><code>Relay.Calling.DetectAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Detect a machine on the current call. Stop the action immediately.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">detectMachineAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$detectAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dial">dial<a class="hash-link" href="#dial" title="Direct link to heading">​</a></h3><p>This will start a call that was created with <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling#newcall"><code>newCall</code></a> and waits until the Call has been answered or hung up.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/dial_result"><code>Relay.Calling.DialResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">dial</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$dialResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="faxreceive">faxReceive<a class="hash-link" href="#faxreceive" title="Direct link to heading">​</a></h3><p>Prepare the call to receive an inbound fax. It waits until the fax has been received or failed.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_result"><code>Relay.Calling.FaxResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Receiving a fax on the call and print logs for URL and number of received pages.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">faxReceive</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$faxResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">echo</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;URL: &#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">.</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$faxResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getDocument</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">.</span><span class="token php language-php"> </span><span class="token php language-php constant" style="color:#36acaa">PHP_EOL</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">echo</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Total pages: &#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">.</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$faxResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getPages</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="faxreceiveasync">faxReceiveAsync<a class="hash-link" href="#faxreceiveasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#faxreceive"><code>faxReceive</code></a>. It does not wait the fax to be received but returns <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_action"><code>Relay.Calling.FaxAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_action"><code>Relay.Calling.FaxAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Trying to receive a fax and then stop it.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">faxReceiveAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$faxAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$faxAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="faxsend">faxSend<a class="hash-link" href="#faxsend" title="Direct link to heading">​</a></h3><p>Send a fax through the call. It waits until the fax has been sent or failed.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$document</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Http(s) URL to the document to send.<br><em>PDF format only.</em></td></tr><tr><td><code>$identity</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Identity to display on receiving fax.<br><em>Defaults to SignalWire DID.</em></td></tr><tr><td><code>$header</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Custom string to add to header of each fax page.<br><em>Set to empty string to disable sending any header.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_result"><code>Relay.Calling.FaxResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Sending a fax on the call and print logs the number of sent pages.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">faxSend</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php constant" style="color:#36acaa">null</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Custom Header&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$faxResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">echo</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;\n URL: &quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">.</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$faxResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getDocument</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">echo</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;\n Total pages: &quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">.</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$faxResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getPages</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="faxsendasync">faxSendAsync<a class="hash-link" href="#faxsendasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#faxsend"><code>faxSend</code></a>. It does not wait the fax to be sent but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_action"><code>Relay.Calling.FaxAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#faxsend"><code>faxSend</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/fax_action"><code>Relay.Calling.FaxAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Trying to send a fax and then stop it.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">faxSendAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php constant" style="color:#36acaa">null</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Custom Header&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$faxAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$faxAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hangup">hangup<a class="hash-link" href="#hangup" title="Direct link to heading">​</a></h3><p>Hangup the call.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/hangup_result"><code>Relay.Calling.HangupResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Hangup the current call and check if it was successful.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">hangup</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$hangupResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$hangupResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="on">on<a class="hash-link" href="#on" title="Direct link to heading">​</a></h3><p>Attach an event handler for the <em>event</em>.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$event</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Event name. Full list of events <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#events"><code>Relay.Calling.Call</code> Events</a></td></tr><tr><td><code>$handler</code></td><td><span class="method-prop-type">callable</span></td><td><span class="required-arg">required</span></td><td>Handler to call when the event comes.</td></tr></tbody></table><p><strong>Returns</strong></p><p><a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call"><code>Relay.Calling.Call</code></a> - The call object itself.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Subscribe to the &#x27;answered&#x27; and &#x27;ended&#x27; events for a given call.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">on</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;ended&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Call has ended.. cleanup something?</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="off">off<a class="hash-link" href="#off" title="Direct link to heading">​</a></h3><p>Remove an event handler that were attached with the <code>on</code> method. If you don&#x27;t pass a <code>$handler</code>, all listeners for that <em>event</em> will be removed.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$event</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Event name. Full list of events <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#events"><code>Relay.Calling.Call</code> Events</a></td></tr><tr><td><code>$handler</code></td><td><span class="method-prop-type">callable</span></td><td><span class="optional-arg">optional</span></td><td>Handler to remove. <br> <em>Note: <code>$handler</code> will be removed from the stack by reference so make sure to use the same reference in both <code>on</code> and <code>off</code> methods.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call"><code>Relay.Calling.Call</code></a> - The call object itself.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Subscribe to the call &#x27;ended&#x27; state change and then, remove the event handler.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$callback</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Call has ended.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">on</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;ended&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$callback</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php comment" style="color:#999988;font-style:italic">// .. later</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">off</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;ended&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$callback</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="play">play<a class="hash-link" href="#play" title="Direct link to heading">​</a></h3><p>Play one or multiple media in a call and waits until the playing has ended.</p><p>The <code>play</code> method is a generic method for all types of playing, see <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playaudio"><code>playAudio</code></a>, <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playsilence"><code>playSilence</code></a>, <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playtts"><code>playTTS</code></a> or <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playringtone"><code>playRingtone</code></a> for more specific usage.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>media</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>List of media elements to play. See below for each type.</td></tr><tr><td><code>volume</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td><img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-lightgrey.svg" class="img_ev3q"> Volume value between -40dB and +40dB where 0 is unchanged.<br><em>Default is <code>0</code>.</em></td></tr></tbody></table><ul><li>To play an audio file:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>audio</code></td></tr><tr><td><code>url</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Http(s) URL to <code>audio</code> resource to play.</td></tr></tbody></table><ul><li>To play a text to speech string:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>tts</code></td></tr><tr><td><code>text</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>TTS to play.</td></tr><tr><td><code>language</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Default to <code>en-US</code>.</td></tr><tr><td><code>gender</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td><code>male</code> or <code>female</code>. Default to <code>female</code>.</td></tr></tbody></table><ul><li>To play silence:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>silence</code></td></tr><tr><td><code>duration</code></td><td><span class="method-prop-type">number</span></td><td><span class="required-arg">required</span></td><td>Seconds of silence to play.</td></tr></tbody></table><ul><li>To play ringtone:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>ringtone</code></td></tr><tr><td><code>name</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>The name of the ringtone. See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#ringtones"><code>ringtones</code></a> for the supported values.</td></tr><tr><td><code>duration</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Duration of ringtone to play.<br><em>Default to 1 ringtone iteration.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_result"><code>Relay.Calling.PlayResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play multiple media elements in the call.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;media&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;tts&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;text&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;Listen this awesome file!&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;audio&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;url&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;https://example.domain.com/audio.mp3&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;silence&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;duration&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">5</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;tts&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;text&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;Did you like it?&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;volume&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4.0</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">play</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playasync">playAsync<a class="hash-link" href="#playasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="#play"><code>play</code></a>. It does not wait the <em>playing</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="#play"><code>play</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play multiple media elements in the call and then stop it.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;media&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;tts&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;text&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;Listen this awesome file!&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;audio&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;url&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;https://example.domain.com/audio.mp3&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;silence&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;duration&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">5</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;type&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;tts&quot;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;text&quot;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string double-quoted-string" style="color:#e3116c">&quot;Did you like it?&quot;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;volume&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4.0</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playaudio">playAudio<a class="hash-link" href="#playaudio" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#play"><code>play</code></a>. This simplifies playing an audio file.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>url</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Http(s) URL to audio resource to play.</td></tr><tr><td><code>volume</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td><img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-lightgrey.svg" class="img_ev3q"> Volume value between -40dB and +40dB where 0 is unchanged.<br><em>Default is <code>0</code>.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_result"><code>Relay.Calling.PlayResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play an Mp3 file using the signature with a &#x27;string&#x27; as parameter.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playAudio</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://cdn.signalwire.com/default-music/welcome.mp3&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// interact with $playResult..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play an Mp3 file setting volume level to 4dB. Require v2.3+.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://cdn.signalwire.com/default-music/welcome.mp3&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;volume&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4.0</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playAudio</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// interact with $playResult..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playaudioasync">playAudioAsync<a class="hash-link" href="#playaudioasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playaudio"><code>playAudio</code></a>. It does not wait the <em>playing</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playaudio"><code>playAudio</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play an Mp3 file and stop it after 5 seconds.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playAudioAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://cdn.signalwire.com/default-music/welcome.mp3&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play an Mp3 file setting the volume and stop it after 5 seconds.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://cdn.signalwire.com/default-music/welcome.mp3&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;volume&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4.0</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playAudioAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playringtone">playRingtone<a class="hash-link" href="#playringtone" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#play"><code>play</code></a>. This simplifies play a ringtone.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>name</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>The name of the ringtone. See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#ringtones"><code>ringtones</code></a> for the supported values.</td></tr><tr><td><code>duration</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Duration of ringtone to play.<br><em>Default to 1 ringtone iteration.</em></td></tr><tr><td><code>volume</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Volume value between -40dB and +40dB where 0 is unchanged.<br><em>Default is <code>0</code>.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_result"><code>Relay.Calling.PlayResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play a single US ringtone.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;us&#x27;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playRingtone</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// interact with $playResult..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playringtoneasync">playRingtoneAsync<a class="hash-link" href="#playringtoneasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playringtone"><code>playRingtone</code></a>. It does not wait the <em>playing</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playringtone"><code>playRingtone</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play US ringtone for 30 seconds, if &#x27;Agent&#x27; is available, stop the play.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;us&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;duration&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">30</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playRingtoneAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">use</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$globalAgent</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only ..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$globalAgent</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isAvailable</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playsilence">playSilence<a class="hash-link" href="#playsilence" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#play"><code>play</code></a>. This simplifies playing silence.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$duration</code></td><td><span class="method-prop-type">number</span></td><td><span class="required-arg">required</span></td><td>Seconds of silence to play.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_result"><code>Relay.Calling.PlayResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play silence for 10 seconds.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playSilence</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php number" style="color:#36acaa">10</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// interact with $playResult..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playsilenceasync">playSilenceAsync<a class="hash-link" href="#playsilenceasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playsilence"><code>playSilence</code></a>. It does not wait the <em>playing</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playsilence"><code>playSilence</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play silence for 60 seconds, if &#x27;Agent&#x27; is available, stop the play.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playSilenceAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php number" style="color:#36acaa">60</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="color:#00009f">use</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$globalAgent</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only ..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$globalAgent</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isAvailable</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playtts">playTTS<a class="hash-link" href="#playtts" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#play"><code>play</code></a>. This simplifies playing TTS.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v1.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>text</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>TTS to play.</td></tr><tr><td><code>language</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Default to <code>en-US</code>.</td></tr><tr><td><code>gender</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td><code>male</code> or <code>female</code>. Default to <code>female</code>.</td></tr><tr><td><code>volume</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td><img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-lightgrey.svg" class="img_ev3q"> Volume value between -40dB and +40dB where 0 is unchanged.<br><em>Default is <code>0</code>.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_result"><code>Relay.Calling.PlayResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play TTS.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Welcome to SignalWire!&#x27;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playTTS</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// interact with $playResult..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="playttsasync">playTTSAsync<a class="hash-link" href="#playttsasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playtts"><code>playTTS</code></a>. It does not wait the <em>playing</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#playtts"><code>playTTS</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/play_action"><code>Relay.Calling.PlayAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play TTS and stop it after 5 seconds.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Welcome to SignalWire!&#x27;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">playTTSAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// interact with $playAction..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$playAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prompt">prompt<a class="hash-link" href="#prompt" title="Direct link to heading">​</a></h3><p>Play one or multiple media while collecting user&#x27;s input from the call at the same time, such as <em>digits</em> and <em>speech</em>.</p><p>It waits until the collection succeed or timeout is reached.</p><p>The <code>prompt</code> method is a generic method, see <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#promptaudio"><code>promptAudio</code></a>, <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompttts"><code>promptTTS</code></a> or <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#promptringtone"><code>promptRingtone</code></a> for more specific usage.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$collect</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>digits</code>, <code>speech</code> or <code>both</code>.</td></tr><tr><td><code>media</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>List of media elements to play. See <a href="#play"><code>play</code></a> for the array structure.</td></tr><tr><td><code>initial_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Initial timeout in seconds. <br><em>Default to 4 seconds.</em></td></tr><tr><td><code>volume</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td><img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-lightgrey.svg" class="img_ev3q"> Volume value between -40dB and +40dB where 0 is unchanged.<br><em>Default is <code>0</code>.</em></td></tr></tbody></table><ul><li>To collect digits:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>digits_max</code></td><td><span class="method-prop-type">number</span></td><td><span class="required-arg">required</span></td><td>Max digits to collect.</td></tr><tr><td><code>digits_terminators</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>DTMF digits that will end the recording. <br><em>Default not set.</em></td></tr><tr><td><code>digits_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Timeout in seconds between each digit.</td></tr></tbody></table><ul><li>To collect speech:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>end_silence_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How much silence to wait for end of speech. <br><em>Default to 1 second.</em></td></tr><tr><td><code>speech_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Maximum time to collect speech. <br><em>Default to 60 seconds.</em></td></tr><tr><td><code>speech_language</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Language to detect. <br><em>Default to <code>en-US</code>.</em></td></tr><tr><td><code>speech_hints</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array of expected phrases to detect.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_result"><code>Relay.Calling.PromptResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Ask user to enter their PIN and collect the digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$mediaToPlay</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;tts&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Welcome at SignalWire. Please, enter your PIN and then # to proceed&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_terminators&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;#&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;media&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$mediaToPlay</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">prompt</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$type</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getType</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; digit</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$pin</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; pin entered by the user</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promptasync">promptAsync<a class="hash-link" href="#promptasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a>. It does not wait the <em>collection</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Ask user to enter their PIN and collect the digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$mediaToPlay</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;tts&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Welcome at SignalWire. Please, enter your PIN and then # to proceed&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_terminators&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;#&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;media&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$mediaToPlay</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$tts</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// .. do other important things while collecting user digits..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; Relay.Calling.PromptResult Object</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promptaudio">promptAudio<a class="hash-link" href="#promptaudio" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a>.<br>This function simplifies playing an audio file while collecting user&#x27;s input from the call, such as <em>digits</em> and <em>speech</em>.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>You can set all the properties that <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a> accepts replacing <code>media</code> with:</p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>url</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Http(s) URL to <code>audio</code> resource to play.</td></tr></tbody></table><blockquote><p>The SDK will build the media for you.</p></blockquote><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_result"><code>Relay.Calling.PromptResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Collect user&#x27;s digits while playing an Mp3 file.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://cdn.signalwire.com/default-music/welcome.mp3&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptAudio</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$type</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getType</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; digit</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$pin</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; pin entered by the user</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promptaudioasync">promptAudioAsync<a class="hash-link" href="#promptaudioasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#promptaudio"><code>promptAudio</code></a>. It does not wait the <em>collection</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#promptaudio"><code>promptAudio</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Ask user to enter their PIN and collect the digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">4</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;https://cdn.signalwire.com/default-music/welcome.mp3&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptAudioAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// .. do other important things while collecting user digits..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; Relay.Calling.PromptResult Object</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promptringtone">promptRingtone<a class="hash-link" href="#promptringtone" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a>.<br>This function simplifies playing ringtone while collecting user&#x27;s input from the call, such as <em>digits</em> and <em>speech</em>.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>You can set all the properties that <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a> accepts replacing <code>media</code> with:</p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>name</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>The name of the ringtone. See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#ringtones"><code>ringtones</code></a> for the supported values.</td></tr><tr><td><code>duration</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Duration of ringtone to play.<br><em>Default to 1 ringtone iteration.</em></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_result"><code>Relay.Calling.PromptResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play US ringtone for 30 seconds while collect digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">3</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;us&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;duration&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;30&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptRingtone</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$type</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getType</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; digit</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$pin</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; user&#x27;s digits</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promptringtoneasync">promptRingtoneAsync<a class="hash-link" href="#promptringtoneasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#promptringtone"><code>promptRingtone</code></a>. It does not wait the <em>collection</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.3+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#promptringtone"><code>promptRingtone</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Play US ringtone for 30 seconds while collect digits in asynchronous.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">3</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;us&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;duration&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;30&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptRingtoneAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// .. do other important things while collecting user digits..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; Relay.Calling.PromptResult Object</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prompttts">promptTTS<a class="hash-link" href="#prompttts" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a>.<br>This function simplifies playing TTS while collecting user&#x27;s input from the call, such as <em>digits</em> and <em>speech</em>.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>You can set all the properties that <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompt"><code>prompt</code></a> accepts replacing <code>media</code> with:</p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>text</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Text-to-speech string to play.</td></tr><tr><td><code>language</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Default to <code>en-US</code>.</td></tr><tr><td><code>gender</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td><code>male</code> or <code>female</code>. Default to <code>female</code>.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_result"><code>Relay.Calling.PromptResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Ask user to enter their PIN and collect the digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">3</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Please, enter your 3 digit PIN.&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptTTS</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$type</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getType</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; digit</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$pin</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; pin entered by the user</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promptttsasync">promptTTSAsync<a class="hash-link" href="#promptttsasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompttts"><code>promptTTS</code></a>. It does not wait the <em>collection</em> to completes but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#prompttts"><code>promptTTS</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/prompt_action"><code>Relay.Calling.PromptAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Ask user to enter their PIN and collect the digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;digits_max&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">3</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;Please, enter your 3 digit PIN.&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">promptTTSAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$collect</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// .. do other important things while collecting user digits..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$promptResult</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$promptAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getResult</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// =&gt; Relay.Calling.PromptResult Object</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="record">record<a class="hash-link" href="#record" title="Direct link to heading">​</a></h3><p>Start recording the call and waits until the recording ends or fails.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$params</code></td><td><span class="method-prop-type">array</span></td><td><span class="optional-arg">optional</span></td><td>Array with the following properties:</td></tr><tr><td><code>beep</code></td><td><span class="method-prop-type">boolean</span></td><td><span class="optional-arg">optional</span></td><td>Default to <code>false</code>.</td></tr><tr><td><code>stereo</code></td><td><span class="method-prop-type">boolean</span></td><td><span class="optional-arg">optional</span></td><td>Default to <code>false</code>.</td></tr><tr><td><code>format</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td><code>mp3</code> or <code>wav</code>. <br><em>Default <code>mp3</code>.</em></td></tr><tr><td><code>direction</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td><code>listen</code>, <code>speak</code> or <code>both</code>. Default to <code>speak</code>.</td></tr><tr><td><code>initial_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How long to wait in seconds until something is heard in the recording. Disable with <code>0</code>. <br><em>Default <code>5.0</code>.</em></td></tr><tr><td><code>end_silence_timeout</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>How long to wait in seconds until caller has stopped speaking. Disable with <code>0</code>. <br><em>Default <code>1.0</code>.</em></td></tr><tr><td><code>terminators</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>DTMF digits that will end the recording. <br><em>Default <code>#*</code></em>.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/record_result"><code>Relay.Calling.RecordResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Start recording audio in the call for both direction in stereo mode, if successful, grab &#x27;url&#x27;, &#x27;duration&#x27; and &#x27;size&#x27; from the RecordResult object.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;stereo&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:#36acaa">true</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;direction&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;both&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">record</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$recordResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$recordResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$url</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$recordResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getUrl</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$duration</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$recordResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getDuration</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:#36acaa">$size</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$recordResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getSize</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recordasync">recordAsync<a class="hash-link" href="#recordasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#record"><code>record</code></a>. It does not wait the end of recording but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/record_action"><code>Relay.Calling.RecordAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#record"><code>record</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/record_action"><code>Relay.Calling.RecordAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Start recording audio in the call for both direction in stereo mode and then stop it using the RecordAction object.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;stereo&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:#36acaa">true</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;direction&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;both&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">record</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$params</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$recordAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// For demonstration purposes only ..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$recordAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="senddigits">sendDigits<a class="hash-link" href="#senddigits" title="Direct link to heading">​</a></h3><p>This method sends DTMF digits to the other party on the call. Allowed digits are <code>1234567890*#ABCD</code> and <code>wW</code> for short and long waits. If any invalid characters are present, the entire operation is rejected.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$digits</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>String of DTMF digits to send.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/send_digits_result"><code>Relay.Calling.SendDigitsResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Send some digits.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">sendDigits</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$result</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$result</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="senddigitsasync">sendDigitsAsync<a class="hash-link" href="#senddigitsasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#senddigits"><code>sendDigits</code></a>. It does not wait for the sending event to complete, and immediately returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/send_digits_action"><code>Relay.Calling.SendDigitsAction</code></a> object you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.2+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#senddigits"><code>sendDigits</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/send_digits_action"><code>Relay.Calling.SendDigitsAction</code></a>.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Send some digits and then check if the operation is completed using the SendDigitsAction object.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">sendDigitsAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$action</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// Later in the code for demonstration purposes only ..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$completed</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$action</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isCompleted</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tap">tap<a class="hash-link" href="#tap" title="Direct link to heading">​</a></h3><p>Intercept call media and stream it to the specify endpoint. It waits until the end of the call.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>$tap</code></td><td><span class="method-prop-type">array</span></td><td><span class="required-arg">required</span></td><td>Array with the following properties:</td></tr><tr><td><code>audio_direction</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td><code>listen</code> what the caller hears, <code>speak</code> what the caller says or <code>both</code>.</td></tr><tr><td><code>target_type</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>Protocol to use: <code>rtp</code> or <code>ws</code>, defaults to <code>rtp</code>.</td></tr><tr><td><code>target_ptime</code></td><td><span class="method-prop-type">number</span></td><td><span class="optional-arg">optional</span></td><td>Packetization time in ms. It will be the same as the tapped media if not set.</td></tr><tr><td><code>codec</code></td><td><span class="method-prop-type">string</span></td><td><span class="optional-arg">optional</span></td><td>Codec to use. It will be the same as the tapped media if not set.</td></tr></tbody></table><ul><li>To <code>tap</code> through RTP:</li></ul><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>target_addr</code></td><td><span class="method-prop-type">string</span></td><td><span class="required-arg">required</span></td><td>RTP IP v4 address.</td></tr><tr><td><code>target_port</code></td><td><span class="method-prop-type">number</span></td><td><span class="required-arg">required</span></td><td>RTP port.</td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/tap_result"><code>Relay.Calling.TapResult</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Tapping audio from the call, if successful, print both source and destination devices from the TapResult object.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$tap</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;audio_direction&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;both&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;target_type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;rtp&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;target_addr&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;192.168.1.1&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;target_port&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">1234</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">tap</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tap</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tapResult</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tapResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">isSuccessful</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php function" style="color:#d73a49">print_r</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tapResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getSourceDevice</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php function" style="color:#d73a49">print_r</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tapResult</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">getDestinationDevice</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tapasync">tapAsync<a class="hash-link" href="#tapasync" title="Direct link to heading">​</a></h3><p>Asynchronous version of <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#tap"><code>tap</code></a>. It does not wait the end of tapping but returns a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/tap_action"><code>Relay.Calling.TapAction</code></a> you can interact with.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.1+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p>See <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/call#tap"><code>tap</code></a> for the parameter list.</p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with a <a href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/tap_action"><code>Relay.Calling.TapAction</code></a> object.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Tapping audio from the call and then stop it using the TapAction object.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$tap</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;audio_direction&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;both&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;target_type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;rtp&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;target_addr&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;192.168.1.1&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;target_port&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:#393A34">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:#36acaa">1234</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">]</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">tapAsync</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tap</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:#36acaa">$device</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$tapAction</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ... later in the code to stop tapping..</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php variable" style="color:#36acaa">$tapAction</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">stop</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="waitfor">waitFor<a class="hash-link" href="#waitfor" title="Direct link to heading">​</a></h3><p>Wait for specific events on the Call or returns <code>false</code> if the Call ends without getting them.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>event1, event2, ..eventN</code></td><td><span class="method-prop-type">string or string[]</span></td><td><span class="required-arg">required</span></td><td>One or more <a href="#state-events"><code>Relay.Calling.Call</code> State Events</a></td></tr></tbody></table><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with <code>true</code> or <code>false</code>.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Wait for &#x27;ending&#x27; or &#x27;ended&#x27; events.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">waitFor</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;ending&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:#e3116c">&#x27;ended&#x27;</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="waitforanswered">waitForAnswered<a class="hash-link" href="#waitforanswered" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#waitfor"><code>waitFor</code></a>. This simplifies waiting for the <em>answered</em> state.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with <code>true</code> or <code>false</code>.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Wait for the &#x27;answered&#x27; event.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">waitForAnswered</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="waitforended">waitForEnded<a class="hash-link" href="#waitforended" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#waitfor"><code>waitFor</code></a>. This simplifies waiting for the <em>ended</em> state.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with <code>true</code> or <code>false</code>.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Wait for the &#x27;ended&#x27; event.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">waitForEnded</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="waitforending">waitForEnding<a class="hash-link" href="#waitforending" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#waitfor"><code>waitFor</code></a>. This simplifies waiting for the <em>ending</em> state.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with <code>true</code> or <code>false</code>.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Wait for the &#x27;ending&#x27; event.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">waitForEnding</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="waitforringing">waitForRinging<a class="hash-link" href="#waitforringing" title="Direct link to heading">​</a></h3><p>This is a helper function that refines the use of <a href="#waitfor"><code>waitFor</code></a>. This simplifies waiting for the <em>ringing</em> state.</p><p>Available In: <img loading="lazy" class="method-available-tag" src="https://img.shields.io/badge/-v2.0+-brightgreen.svg" class="img_ev3q"></p><p><strong>Parameters</strong></p><p><em>None</em></p><p><strong>Returns</strong></p><p><code>React\Promise\Promise</code> - Promise object that will be fulfilled with <code>true</code> or <code>false</code>.</p><p><strong>Examples</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Wait for &#x27;ending&#x27; or &#x27;ended&#x27; events.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php variable" style="color:#36acaa">$call</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">waitForRinging</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php operator" style="color:#393A34">-&gt;</span><span class="token php language-php function" style="color:#d73a49">done</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php keyword" style="color:#00009f">function</span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php keyword" style="color:#00009f">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">(</span><span class="token php language-php variable" style="color:#36acaa">$success</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:#393A34">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:#999988;font-style:italic">// ...</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php">  </span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#393A34"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:#393A34">}</span><span class="token php language-php punctuation" style="color:#393A34">)</span><span class="token php language-php punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a class="hash-link" href="#events" title="Direct link to heading">​</a></h2><p>All these events can be used to track the calls lifecycle and instruct SignalWire on what to do for each different state.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-events">State Events<a class="hash-link" href="#state-events" title="Direct link to heading">​</a></h3><p>To track the state of a call.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>stateChange</code></td><td>Event dispatched when Call state changes.</td></tr><tr><td align="right"><code>created</code></td><td>The call has been created in Relay.</td></tr><tr><td align="right"><code>ringing</code></td><td>The call is ringing and has not yet been answered.</td></tr><tr><td align="right"><code>answered</code></td><td>The call has been picked up.</td></tr><tr><td align="right"><code>ending</code></td><td>The call is hanging up.</td></tr><tr><td align="right"><code>ended</code></td><td>The call has ended.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connect-events">Connect Events<a class="hash-link" href="#connect-events" title="Direct link to heading">​</a></h3><p>To track the connect state of a call.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>connect.stateChange</code></td><td>Event dispatched when the Call <code>connect</code> state changes.</td></tr><tr><td align="right"><code>connect.connecting</code></td><td>Currently calling the phone number(s) to connect.</td></tr><tr><td align="right"><code>connect.connected</code></td><td>The calls are being connected together.</td></tr><tr><td align="right"><code>connect.failed</code></td><td>The last call connection attempt failed.</td></tr><tr><td align="right"><code>connect.disconnected</code></td><td>The call was either never connected or the last call connection completed.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="play-events">Play Events<a class="hash-link" href="#play-events" title="Direct link to heading">​</a></h3><p>To track a playback state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>play.stateChange</code></td><td>Event dispatched when the state of a <code>playing</code> changes.</td></tr><tr><td align="right"><code>play.playing</code></td><td>A playback is playing on the call.</td></tr><tr><td align="right"><code>play.error</code></td><td>A playback failed to start.</td></tr><tr><td align="right"><code>play.finished</code></td><td>The playback has ended.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="record-events">Record Events<a class="hash-link" href="#record-events" title="Direct link to heading">​</a></h3><p>To track a recording state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>record.stateChange</code></td><td>Event dispatched when the state of a <code>recording</code> changes.</td></tr><tr><td align="right"><code>record.recording</code></td><td>The call is being recorded.</td></tr><tr><td align="right"><code>record.no_input</code></td><td>The recording failed due to <em>no input</em>.</td></tr><tr><td align="right"><code>record.finished</code></td><td>The recording has finished.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prompt-events">Prompt Events<a class="hash-link" href="#prompt-events" title="Direct link to heading">​</a></h3><p>To track a prompt state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>prompt</code></td><td>The prompt action on the call has finished.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fax-events">Fax Events<a class="hash-link" href="#fax-events" title="Direct link to heading">​</a></h3><p>To track a fax state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>fax.error</code></td><td>Faxing failed.</td></tr><tr><td align="right"><code>fax.finished</code></td><td>Faxing has finished.</td></tr><tr><td align="right"><code>fax.page</code></td><td>A fax page has been sent or received.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detect-events">Detect Events<a class="hash-link" href="#detect-events" title="Direct link to heading">​</a></h3><p>To track a detector state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>detect.error</code></td><td>The detector has failed.</td></tr><tr><td align="right"><code>detect.finished</code></td><td>The detector has finished.</td></tr><tr><td align="right"><code>detect.update</code></td><td>There is a notification from the detector (eg: a new DTMF).</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tap-events">Tap Events<a class="hash-link" href="#tap-events" title="Direct link to heading">​</a></h3><p>To track a tapping state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>tap.tapping</code></td><td>The tap action has started on the call.</td></tr><tr><td align="right"><code>tap.finished</code></td><td>Tap has finished.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="digits-events">Digits Events<a class="hash-link" href="#digits-events" title="Direct link to heading">​</a></h3><p>To track a <em>send digits</em> action state.</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>sendDigits.finished</code></td><td>Digits have been sent.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ringtones">Ringtones<a class="hash-link" href="#ringtones" title="Direct link to heading">​</a></h2><p>Here you can find all the accepted values for the ringtone to play, based on short country codes:</p><table><thead><tr><th align="right"></th><th></th></tr></thead><tbody><tr><td align="right"><code>name</code></td><td><em>at, au, bg, br, be, ch, cl, cn, cz, de, dk, ee, es, fi, fr, gr, hu, il, in, it, lt, jp, mx, my, nl, no, nz, ph, pl, pt, ru, se, sg, th, uk, us, tw, ve, za</em></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/php/reference/relay_calling/call.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/answer_result"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">AnswerResult</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Relay/Server%20SDKs/phpay/Server%20SDKs/php/reference/relay_calling/connect_action"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ConnectAction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a><ul><li><a href="#amd" class="table-of-contents__link toc-highlight">amd</a></li><li><a href="#amdasync" class="table-of-contents__link toc-highlight">amdAsync</a></li><li><a href="#answer" class="table-of-contents__link toc-highlight">answer</a></li><li><a href="#connect" class="table-of-contents__link toc-highlight">connect</a></li><li><a href="#connectasync" class="table-of-contents__link toc-highlight">connectAsync</a></li><li><a href="#detect" class="table-of-contents__link toc-highlight">detect</a></li><li><a href="#detectasync" class="table-of-contents__link toc-highlight">detectAsync</a></li><li><a href="#detectansweringmachine" class="table-of-contents__link toc-highlight">detectAnsweringMachine</a></li><li><a href="#detectansweringmachineasync" class="table-of-contents__link toc-highlight">detectAnsweringMachineAsync</a></li><li><a href="#detectdigit" class="table-of-contents__link toc-highlight">detectDigit</a></li><li><a href="#detectdigitasync" class="table-of-contents__link toc-highlight">detectDigitAsync</a></li><li><a href="#detectfax" class="table-of-contents__link toc-highlight">detectFax</a></li><li><a href="#detectfaxasync" class="table-of-contents__link toc-highlight">detectFaxAsync</a></li><li><a href="#detecthuman" class="table-of-contents__link toc-highlight">detectHuman</a></li><li><a href="#detecthumanasync" class="table-of-contents__link toc-highlight">detectHumanAsync</a></li><li><a href="#detectmachine" class="table-of-contents__link toc-highlight">detectMachine</a></li><li><a href="#detectmachineasync" class="table-of-contents__link toc-highlight">detectMachineAsync</a></li><li><a href="#dial" class="table-of-contents__link toc-highlight">dial</a></li><li><a href="#faxreceive" class="table-of-contents__link toc-highlight">faxReceive</a></li><li><a href="#faxreceiveasync" class="table-of-contents__link toc-highlight">faxReceiveAsync</a></li><li><a href="#faxsend" class="table-of-contents__link toc-highlight">faxSend</a></li><li><a href="#faxsendasync" class="table-of-contents__link toc-highlight">faxSendAsync</a></li><li><a href="#hangup" class="table-of-contents__link toc-highlight">hangup</a></li><li><a href="#on" class="table-of-contents__link toc-highlight">on</a></li><li><a href="#off" class="table-of-contents__link toc-highlight">off</a></li><li><a href="#play" class="table-of-contents__link toc-highlight">play</a></li><li><a href="#playasync" class="table-of-contents__link toc-highlight">playAsync</a></li><li><a href="#playaudio" class="table-of-contents__link toc-highlight">playAudio</a></li><li><a href="#playaudioasync" class="table-of-contents__link toc-highlight">playAudioAsync</a></li><li><a href="#playringtone" class="table-of-contents__link toc-highlight">playRingtone</a></li><li><a href="#playringtoneasync" class="table-of-contents__link toc-highlight">playRingtoneAsync</a></li><li><a href="#playsilence" class="table-of-contents__link toc-highlight">playSilence</a></li><li><a href="#playsilenceasync" class="table-of-contents__link toc-highlight">playSilenceAsync</a></li><li><a href="#playtts" class="table-of-contents__link toc-highlight">playTTS</a></li><li><a href="#playttsasync" class="table-of-contents__link toc-highlight">playTTSAsync</a></li><li><a href="#prompt" class="table-of-contents__link toc-highlight">prompt</a></li><li><a href="#promptasync" class="table-of-contents__link toc-highlight">promptAsync</a></li><li><a href="#promptaudio" class="table-of-contents__link toc-highlight">promptAudio</a></li><li><a href="#promptaudioasync" class="table-of-contents__link toc-highlight">promptAudioAsync</a></li><li><a href="#promptringtone" class="table-of-contents__link toc-highlight">promptRingtone</a></li><li><a href="#promptringtoneasync" class="table-of-contents__link toc-highlight">promptRingtoneAsync</a></li><li><a href="#prompttts" class="table-of-contents__link toc-highlight">promptTTS</a></li><li><a href="#promptttsasync" class="table-of-contents__link toc-highlight">promptTTSAsync</a></li><li><a href="#record" class="table-of-contents__link toc-highlight">record</a></li><li><a href="#recordasync" class="table-of-contents__link toc-highlight">recordAsync</a></li><li><a href="#senddigits" class="table-of-contents__link toc-highlight">sendDigits</a></li><li><a href="#senddigitsasync" class="table-of-contents__link toc-highlight">sendDigitsAsync</a></li><li><a href="#tap" class="table-of-contents__link toc-highlight">tap</a></li><li><a href="#tapasync" class="table-of-contents__link toc-highlight">tapAsync</a></li><li><a href="#waitfor" class="table-of-contents__link toc-highlight">waitFor</a></li><li><a href="#waitforanswered" class="table-of-contents__link toc-highlight">waitForAnswered</a></li><li><a href="#waitforended" class="table-of-contents__link toc-highlight">waitForEnded</a></li><li><a href="#waitforending" class="table-of-contents__link toc-highlight">waitForEnding</a></li><li><a href="#waitforringing" class="table-of-contents__link toc-highlight">waitForRinging</a></li></ul></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a><ul><li><a href="#state-events" class="table-of-contents__link toc-highlight">State Events</a></li><li><a href="#connect-events" class="table-of-contents__link toc-highlight">Connect Events</a></li><li><a href="#play-events" class="table-of-contents__link toc-highlight">Play Events</a></li><li><a href="#record-events" class="table-of-contents__link toc-highlight">Record Events</a></li><li><a href="#prompt-events" class="table-of-contents__link toc-highlight">Prompt Events</a></li><li><a href="#fax-events" class="table-of-contents__link toc-highlight">Fax Events</a></li><li><a href="#detect-events" class="table-of-contents__link toc-highlight">Detect Events</a></li><li><a href="#tap-events" class="table-of-contents__link toc-highlight">Tap Events</a></li><li><a href="#digits-events" class="table-of-contents__link toc-highlight">Digits Events</a></li></ul></li><li><a href="#ringtones" class="table-of-contents__link toc-highlight">Ringtones</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SignalWire Community</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0ec0ed99.js"></script>
<script src="/assets/js/main.9160aba8.js"></script>
</body>
</html>